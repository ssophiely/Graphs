{"ast":null,"code":"var _jsxFileName = \"D:\\\\Users\\\\admin\\\\Desktop\\\\graph_app\\\\src\\\\components\\\\graph\\\\GraphComponent.jsx\",\n  _s = $RefreshSig$();\nimport { Graph } from \"react-d3-graph\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction GraphComponent() {\n  _s();\n  // const data = {\n  //   nodes: [{ id: \"Harry\" }, { id: \"Sally\" }, { id: \"Alice\" }],\n  //   links: [\n  //     { source: \"Harry\", target: \"Sally\", weight: 5 },\n  //     { source: \"Harry\", target: \"Alice\" },\n  //     { source: \"Sally\", target: \"Harry\", weight: 5 },\n  //   ],\n  // };\n\n  // // the graph configuration, just override the ones you need\n  // const myConfig = {\n  //   nodeHighlightBehavior: true,\n  //   node: {\n  //     color: \"black\",\n  //     size: 220,\n  //     highlightStrokeColor: \"red\",\n  //   },\n  //   link: {\n  //     highlightColor: \"yellow\",\n  //     renderLabel: true,\n  //     labelProperty: 'weight',\n  //   },\n  // };\n\n  // const onClickNode = function (nodeId) {\n  //   window.alert(`Clicked node ${nodeId}`);\n  // };\n\n  // const onClickLink = function (source, target) {\n  //   window.alert(`Clicked link between ${source} and ${target}`);\n  // };\n\n  // return (\n  //   <Graph\n  //     id=\"graphId\"\n  //     data={data}\n  //     config={myConfig}\n  //     onClickNode={onClickNode}\n  //     onClickLink={onClickLink}\n  //   />\n  // );\n  const svgRef = useRef();\n  useEffect(() => {\n    const svg = d3.select(svgRef.current).attr(\"width\", 600).attr(\"height\", 400);\n\n    // Удаляем старые элементы\n    svg.selectAll('*').remove();\n\n    // Создаем линейный генератор для ребер\n    const link = svg.append('g').attr('class', 'links').selectAll('line').data(links).enter().append('line').attr('stroke-width', d => Math.sqrt(d.value));\n\n    // Создаем узлы\n    const node = svg.append('g').attr('class', 'nodes').selectAll('circle').data(nodes).enter().append('circle').attr('r', 5).attr('fill', 'blue');\n\n    // Обновляем положение узлов и ребер\n    const simulation = d3.forceSimulation(nodes).force('link', d3.forceLink().id(d => d.id).distance(50).strength(1)).force('charge', d3.forceManyBody().strength(-30)).force('center', d3.forceCenter(300, 200));\n    simulation.on('tick', () => {\n      link.attr('x1', d => d.source.x).attr('y1', d => d.source.y).attr('x2', d => d.target.x).attr('y2', d => d.target.y);\n      node.attr('cx', d => d.x).attr('cy', d => d.y);\n\n      // Отрисовка веса ребер\n      svg.selectAll('.link-weight').remove(); // Удаляем старые веса\n      svg.selectAll('.link-weight').data(links).enter().append('text').attr('class', 'link-weight').attr('x', d => (d.source.x + d.target.x) / 2).attr('y', d => (d.source.y + d.target.y) / 2).attr('text-anchor', 'middle').text(d => d.value);\n    });\n  }, [nodes, links]);\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    ref: svgRef\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 5\n  }, this);\n}\n_s(GraphComponent, \"89Ty783ABEwsfMbSOeu9vscWF34=\");\n_c = GraphComponent;\nexport default GraphComponent;\nvar _c;\n$RefreshReg$(_c, \"GraphComponent\");","map":{"version":3,"names":["Graph","jsxDEV","_jsxDEV","GraphComponent","_s","svgRef","useRef","useEffect","svg","d3","select","current","attr","selectAll","remove","link","append","data","links","enter","d","Math","sqrt","value","node","nodes","simulation","forceSimulation","force","forceLink","id","distance","strength","forceManyBody","forceCenter","on","source","x","y","target","text","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/Users/admin/Desktop/graph_app/src/components/graph/GraphComponent.jsx"],"sourcesContent":["import { Graph } from \"react-d3-graph\";\r\n\r\nfunction GraphComponent() {\r\n  // const data = {\r\n  //   nodes: [{ id: \"Harry\" }, { id: \"Sally\" }, { id: \"Alice\" }],\r\n  //   links: [\r\n  //     { source: \"Harry\", target: \"Sally\", weight: 5 },\r\n  //     { source: \"Harry\", target: \"Alice\" },\r\n  //     { source: \"Sally\", target: \"Harry\", weight: 5 },\r\n  //   ],\r\n  // };\r\n\r\n  // // the graph configuration, just override the ones you need\r\n  // const myConfig = {\r\n  //   nodeHighlightBehavior: true,\r\n  //   node: {\r\n  //     color: \"black\",\r\n  //     size: 220,\r\n  //     highlightStrokeColor: \"red\",\r\n  //   },\r\n  //   link: {\r\n  //     highlightColor: \"yellow\",\r\n  //     renderLabel: true,\r\n  //     labelProperty: 'weight',\r\n  //   },\r\n  // };\r\n\r\n  // const onClickNode = function (nodeId) {\r\n  //   window.alert(`Clicked node ${nodeId}`);\r\n  // };\r\n\r\n  // const onClickLink = function (source, target) {\r\n  //   window.alert(`Clicked link between ${source} and ${target}`);\r\n  // };\r\n\r\n  // return (\r\n  //   <Graph\r\n  //     id=\"graphId\"\r\n  //     data={data}\r\n  //     config={myConfig}\r\n  //     onClickNode={onClickNode}\r\n  //     onClickLink={onClickLink}\r\n  //   />\r\n  // );\r\n  const svgRef = useRef();\r\n\r\n  useEffect(() => {\r\n    const svg = d3.select(svgRef.current)\r\n      .attr(\"width\", 600)\r\n      .attr(\"height\", 400);\r\n\r\n    // Удаляем старые элементы\r\n    svg.selectAll('*').remove();\r\n\r\n    // Создаем линейный генератор для ребер\r\n    const link = svg.append('g').attr('class', 'links')\r\n      .selectAll('line')\r\n      .data(links)\r\n      .enter().append('line')\r\n      .attr('stroke-width', d => Math.sqrt(d.value));\r\n\r\n    // Создаем узлы\r\n    const node = svg.append('g').attr('class', 'nodes')\r\n      .selectAll('circle')\r\n      .data(nodes)\r\n      .enter().append('circle')\r\n      .attr('r', 5)\r\n      .attr('fill', 'blue');\r\n\r\n    // Обновляем положение узлов и ребер\r\n    const simulation = d3.forceSimulation(nodes)\r\n      .force('link', d3.forceLink().id(d => d.id).distance(50).strength(1))\r\n      .force('charge', d3.forceManyBody().strength(-30))\r\n      .force('center', d3.forceCenter(300, 200));\r\n\r\n    simulation\r\n      .on('tick', () => {\r\n        link\r\n          .attr('x1', d => d.source.x)\r\n          .attr('y1', d => d.source.y)\r\n          .attr('x2', d => d.target.x)\r\n          .attr('y2', d => d.target.y);\r\n\r\n        node\r\n          .attr('cx', d => d.x)\r\n          .attr('cy', d => d.y);\r\n\r\n        // Отрисовка веса ребер\r\n        svg.selectAll('.link-weight').remove(); // Удаляем старые веса\r\n        svg.selectAll('.link-weight')\r\n          .data(links)\r\n          .enter().append('text')\r\n          .attr('class', 'link-weight')\r\n          .attr('x', d => (d.source.x + d.target.x) / 2)\r\n          .attr('y', d => (d.source.y + d.target.y) / 2)\r\n          .attr('text-anchor', 'middle')\r\n          .text(d => d.value);\r\n      });\r\n  }, [nodes, links]);\r\n\r\n  return (\r\n    <svg ref={svgRef}></svg>\r\n  );\r\n}\r\n\r\nexport default GraphComponent;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}